{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","services/fetchApi.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","onChangeHandler","e","setState","currentTarget","value","toLowerCase","onSubmitHandler","preventDefault","onSubmitApp","props","trim","reset","this","className","s","SearchForm","onSubmit","type","SearchFormButton","buttonLabel","onChange","input","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","Loaderhearts","loader","color","height","width","Button","onClick","text","modalRoot","document","querySelector","Modal","closeModalOnEscape","code","onModalClose","onOverlayClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","src","modalImg","alt","ImageGalleryItem","imagesArray","map","id","webformatURL","largeImageURL","image","fetchApi","query","page","axios","get","App","images","loading","error","largeImage","showModal","onLoadMoreClick","prevState","onItemClick","toggleModal","prevProps","then","response","console","log","status","data","hits","length","toast","catch","Loader","autoClose","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f33b9bf8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1_ayz\",\"image\":\"ImageGalleryItem_image__3dach\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2yc4U\",\"modal\":\"Modal_modal__jCM28\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__26Dce\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__30Oms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3DqDy\"};","import React from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { Component } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    searchQuery: PropTypes.string,\r\n  };\r\n\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  onChangeHandler = e => {\r\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  onSubmitHandler = e => {\r\n    e.preventDefault();\r\n    const { searchQuery } = this.state;\r\n    const { onSubmitApp } = this.props;\r\n    if (this.state.searchQuery.trim() === '') {\r\n      return;\r\n    }\r\n    onSubmitApp(searchQuery);\r\n    // this.setState({ searchQuery: '' });\r\n    this.reset();\r\n  };\r\n\r\n  reset() {\r\n    this.setState({ searchQuery: '' });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.onSubmitHandler}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.buttonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.onChangeHandler}\r\n            className={s.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return (\r\n    <div>\r\n      <ul className={s.ImageGallery}>{children}</ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from 'react-loader-spinner';\r\nimport s from './loader.module.css';\r\n\r\nconst Loaderhearts = () => {\r\n  //other logic\r\n  return (\r\n    <div>\r\n      <Loader\r\n        className={s.loader}\r\n        type=\"Hearts\"\r\n        color=\"red\"\r\n        height={80}\r\n        width={80}\r\n      />\r\n      ;\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loaderhearts;\r\n","import s from './Button.module.css';\r\nimport { Component } from 'react';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <button className={s.Button} type=\"button\" onClick={this.props.onClick}>\r\n        {this.props.text}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeModalOnEscape);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeModalOnEscape);\r\n  }\r\n\r\n  closeModalOnEscape = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onModalClose();\r\n    }\r\n  };\r\n\r\n  onOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onModalClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.onOverlayClick}>\r\n        <div className={s.modal}>\r\n          <img src={this.props.modalImg} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ imagesArray, onClick }) => {\r\n  return imagesArray.map(({ id, webformatURL, largeImageURL }) => (\r\n    <li\r\n      key={id}\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => onClick(largeImageURL)}\r\n    >\r\n      <img className={s.image} src={webformatURL} alt=\"\" />\r\n    </li>\r\n  ));\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import axios from 'axios';\r\n\r\nconst API_Key = '23544222-01ada114d06f3f80b4f13a1dd';\r\n\r\nconst fetchApi = (query, page) => {\r\n  const response = axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_Key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return response;\r\n};\r\n\r\nexport default fetchApi;\r\n","import { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport PropTypes from 'prop-types';\nimport Loaderhearts from './components/Loader/Loader';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport fetchApi from './services/fetchApi';\nimport { toast } from 'react-toastify';\nimport s from '../src/components/ImageGalleryItem/ImageGalleryItem.module.css';\n\nclass App extends Component {\n  static propTypes = {\n    searchQuery: PropTypes.string,\n    images: PropTypes.array,\n    page: PropTypes.number,\n    error: PropTypes.bool,\n    loading: PropTypes.bool,\n    showModal: PropTypes.bool,\n    largeImege: PropTypes.string,\n  };\n\n  state = {\n    searchQuery: '',\n    page: 1,\n    images: [],\n    loading: false,\n    error: null,\n    largeImage: '',\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n\n    if (searchQuery !== prevState.searchQuery) {\n      this.setState({ loading: true });\n      this.setState({ page: 1 });\n      this.setState({ images: [] });\n\n      fetchApi(this.state.searchQuery, this.state.page)\n        .then(response => {\n          console.log('Это оно', response);\n          if (response.status === 200) {\n            this.setState({ images: response.data.hits });\n            if (this.state.images.length === 0) {\n              toast.error('По такому запросу картинки не найденны!');\n            }\n          }\n          this.setState({\n            loading: false,\n          });\n          if (response.status === 400) {\n            this.setState({ error: 'картинки по вашему зыпросу не найдены' });\n          }\n        })\n        .catch(error => console.error(error));\n    }\n    if (\n      prevState.page !== this.state.page &&\n      searchQuery === prevState.searchQuery\n    ) {\n      fetchApi(this.state.searchQuery, this.state.page)\n        .then(response => {\n          console.log(response);\n\n          if (response.status === 200) {\n            this.setState(prevState => ({\n              images: [...prevState.images, ...response.data.hits],\n            }));\n\n            if (this.state.images.length === 0) {\n              toast.error('По такому запросу картинки не найденны!');\n            }\n          }\n          this.setState({\n            loading: false,\n          });\n          if (response.status === 400) {\n            this.setState({ error: 'картинки по вашему зыпросу не найдены' });\n          }\n        })\n        .catch(error => console.error(error));\n    }\n  }\n\n  onLoadMoreClick = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n    this.setState({ loading: true });\n    // this.onLoadMoreFeth()\n  };\n\n  // onLoadMoreFeth = () => {\n  //   fetchApi(this.state.searchQuery, this.state.page)\n  //     .then(response => {\n  //       console.log(response);\n\n  //       if (response.status === 200) {\n  //         this.setState(prevState => ({\n  //           images: [...prevState.images, ...response.data.hits],\n  //         }));\n\n  //         if (this.state.images.length === 0) {\n  //           toast.error('По такому запросу картинки не найденны!');\n  //         }\n  //       }\n  //       this.setState({\n  //         loading: false,\n  //       });\n  //       if (response.status === 400) {\n  //         this.setState({ error: 'картинки по вашему зыпросу не найдены' });\n  //       }\n  //     })\n  //     .catch(error => console.error(error));\n  // };\n\n  onSubmitHandler = searchQuery => {\n    this.setState({ searchQuery: searchQuery, page: 1, images: [] });\n  };\n\n  onItemClick = largeImageURL => {\n    this.setState({ largeImage: largeImageURL });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({ showModal: !prevState.showModal }));\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmitApp={this.onSubmitHandler} />\n        {this.state.loading && <Loaderhearts />}\n        {this.state.images.length !== 0 && (\n          <ImageGallery>\n            <ImageGalleryItem\n              imagesArray={this.state.images}\n              onClick={this.onItemClick}\n            />\n          </ImageGallery>\n        )}\n        {this.state.images.length !== 0 && (\n          <Button text=\"Load more\" onClick={this.onLoadMoreClick} />\n        )}\n        {this.state.showModal && (\n          <Modal\n            onModalClose={this.toggleModal}\n            modalImg={this.state.largeImage}\n          />\n        )}\n        {/* <ImageGallery imageName={this.state.imageName} /> */}\n        <ToastContainer autoClose={3000} position=\"top-center\" />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__umOvc\",\"SearchForm\":\"Searchbar_SearchForm__3TM2p\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3cVCE\",\"buttonLabel\":\"Searchbar_buttonLabel__2KxkW\",\"input\":\"Searchbar_input__32AUL\"};"],"sourceRoot":""}