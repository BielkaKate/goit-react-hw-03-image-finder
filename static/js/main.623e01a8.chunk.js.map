{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Loader/loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Button/Button.js","services/fetchApi.js","components/Searchbar/Searchbar.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Loaderhearts","className","s","loader","type","color","height","width","ImageGallery","children","ImageGalleryItem","imagesArray","onClick","map","id","webformatURL","largeImageURL","image","src","alt","modalRoot","document","querySelector","Modal","closeModalOnEscape","e","code","props","onModalClose","onOverlayClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","overlay","modal","modalImg","Component","Button","text","fetchApi","query","page","axios","get","Searchbar","state","value","searchValue","images","loading","error","largeImage","showModal","onChangeHandler","setState","toLowerCase","onSubmitHandler","preventDefault","trim","then","response","console","log","status","data","hits","length","toast","catch","onSubmit","reset","onLoadMoreClick","prevState","onItemClick","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","eror","SearchForm","SearchFormButton","buttonLabel","onChange","input","autocomplete","autofocus","placeholder","Loader","App","imageName","autoClose","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.623e01a8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1_ayz\",\"image\":\"ImageGalleryItem_image__3dach\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2yc4U\",\"modal\":\"Modal_modal__jCM28\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__30Oms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__26Dce\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3DqDy\"};","import Loader from 'react-loader-spinner';\r\nimport s from './loader.module.css';\r\n\r\nconst Loaderhearts = () => {\r\n  //other logic\r\n  return (\r\n    <div>\r\n      <Loader\r\n        className={s.loader}\r\n        type=\"Hearts\"\r\n        color=\"red\"\r\n        height={80}\r\n        width={80}\r\n      />\r\n      ;\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loaderhearts;\r\n","import s from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return (\r\n    <div>\r\n      <ul className={s.ImageGallery}>{children}</ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from './ImageGalleryItem.module.css';\r\nimport { Component } from 'react';\r\n\r\nconst ImageGalleryItem = ({ imagesArray, onClick }) => {\r\n  return imagesArray.map(({ id, webformatURL, largeImageURL }) => (\r\n    <li\r\n      key={id}\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => onClick(largeImageURL)}\r\n    >\r\n      <img className={s.image} src={webformatURL} alt=\"\" />\r\n    </li>\r\n  ));\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeModalOnEscape);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeModalOnEscape);\r\n  }\r\n\r\n  closeModalOnEscape = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onModalClose();\r\n    }\r\n  };\r\n\r\n  onOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onModalClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.onOverlayClick}>\r\n        <div className={s.modal}>\r\n          <img src={this.props.modalImg} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import s from './Button.module.css';\r\nimport { Component } from 'react';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <button className={s.Button} type=\"button\" onClick={this.props.onClick}>\r\n        {this.props.text}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import axios from 'axios';\r\n\r\nconst API_Key = '23544222-01ada114d06f3f80b4f13a1dd';\r\n\r\nconst fetchApi = (query, page) => {\r\n  const response = axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_Key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return response;\r\n};\r\n\r\nexport default fetchApi;\r\n","import React from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport Loaderhearts from '../Loader/Loader';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\nimport Button from '../Button/Button';\r\nimport PropTypes from 'prop-types';\r\nimport fetchApi from '../../services/fetchApi';\r\n\r\nconst API_Key = '23544222-01ada114d06f3f80b4f13a1dd';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    value: PropTypes.string,\r\n    images: PropTypes.array,\r\n    page: PropTypes.number,\r\n    searchValue: PropTypes.string,\r\n    loading: PropTypes.bool,\r\n    showModal: PropTypes.bool,\r\n    largeImege: PropTypes.string,\r\n  };\r\n\r\n  state = {\r\n    value: '',\r\n    searchValue: '',\r\n    page: 1,\r\n    images: [],\r\n    loading: false,\r\n    error: null,\r\n    largeImage: '',\r\n    showModal: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.page !== this.state.page) {\r\n      if (prevState.value !== this.state.value) {\r\n        this.setState({\r\n          loading: true,\r\n        });\r\n      }\r\n      fetchApi(this.state.searchValue, this.state.page)\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            this.setState(prevState => ({\r\n              images: [...prevState.images, ...response.data.hits],\r\n            }));\r\n            this.setState({ loading: false });\r\n            if (this.state.images.length > 11) {\r\n              window.scrollTo({\r\n                top: document.documentElement.scrollHeight,\r\n                behavior: 'smooth',\r\n              });\r\n            }\r\n          }\r\n          if (response.status === 400) {\r\n            this.setState({ eror: 'картинки по вашему зыпросу не найдены' });\r\n          }\r\n        })\r\n        .catch(error => console.error(error));\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.setState({ value: '' });\r\n  }\r\n  onChangeHandler = e => {\r\n    this.setState({ value: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  onSubmitHandler = e => {\r\n    e.preventDefault();\r\n    if (this.state.value.trim() === '') {\r\n      return;\r\n    }\r\n    if (this.state.value.trim() === this.state.searchValue) {\r\n      this.setState({ page: 1, images: [] });\r\n    }\r\n    this.setState({ searchValue: this.state.value });\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    fetchApi(this.state.value, this.state.page)\r\n      .then(response => {\r\n        console.log(response);\r\n        if (response.status === 200) {\r\n          this.setState({ images: response.data.hits });\r\n          if (this.state.images.length === 0) {\r\n            toast.error('По такому запросу картинки не найденны!');\r\n          }\r\n        }\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n        if (response.status === 400) {\r\n          this.setState({ error: 'картинки по вашему зыпросу не найдены' });\r\n        }\r\n      })\r\n      .catch(error => console.error(error));\r\n\r\n    this.props.onSubmit(this.state);\r\n    this.reset();\r\n  };\r\n\r\n  onLoadMoreClick = e => {\r\n    this.setState(prevState => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  onItemClick = e => {\r\n    this.setState({ largeImage: e });\r\n    this.toggleModal();\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(state => ({ showModal: !state.showModal }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.onSubmitHandler}>\r\n            <button type=\"submit\" className={s.SearchFormButton}>\r\n              <span className={s.buttonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              onChange={this.onChangeHandler}\r\n              className={s.input}\r\n              type=\"text\"\r\n              autocomplete=\"off\"\r\n              autofocus\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n          {this.state.loading && <Loaderhearts />}\r\n        </header>\r\n        {this.state.images.length !== 0 && (\r\n          <ImageGallery>\r\n            <ImageGalleryItem\r\n              imagesArray={this.state.images}\r\n              onClick={this.onItemClick}\r\n            />\r\n          </ImageGallery>\r\n        )}\r\n        {this.state.images.length !== 0 && (\r\n          <Button text=\"Load more\" onClick={this.onLoadMoreClick} />\r\n        )}\r\n        {this.state.showModal && (\r\n          <Modal\r\n            onModalClose={this.toggleModal}\r\n            modalImg={this.state.largeImage}\r\n          />\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport PropTypes from 'prop-types';\n\nclass App extends Component {\n  static propTypes = {\n    imageName: PropTypes.string,\n  };\n\n  state = {\n    imageName: '',\n  };\n\n  onSubmitHandler = data => {\n    this.setState({ imageName: data.value });\n  };\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.onSubmitHandler} />;\n        <ImageGallery imageName={this.state.imageName} />\n        <ToastContainer autoClose={3000} position=\"top-center\" />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__umOvc\",\"SearchForm\":\"Searchbar_SearchForm__3TM2p\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3cVCE\",\"buttonLabel\":\"Searchbar_buttonLabel__2KxkW\",\"input\":\"Searchbar_input__32AUL\"};"],"sourceRoot":""}