{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Button/Button.js","components/Searchbar/Searchbar.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Loaderhearts","className","s","loader","type","color","height","width","ImageGallery","children","ImageGalleryItem","LargeImageModal","largeImageURL","props","onClick","this","imagesArray","map","id","webformatURL","image","src","alt","Component","modalRoot","document","querySelector","Modal","closeModalOnEscape","e","code","onModalClose","onOverlayClick","currentTarget","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","modalImg","Button","text","API_Key","Searchbar","state","value","searchValue","page","images","loading","error","largeImage","showModal","onChangeHandler","setState","toLowerCase","onSubmitHandler","preventDefault","trim","axios","get","then","response","console","log","status","data","hits","length","toast","catch","onSubmit","reset","onLoadMoreClick","prevState","onItemClick","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","eror","SearchForm","SearchFormButton","buttonLabel","onChange","input","autocomplete","autofocus","placeholder","Loader","App","imageName","autoClose","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,MAAQ,kC,wCCAxFD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mPCkBZC,EAhBM,WAEnB,OACE,gCACE,cAAC,IAAD,CACEC,UAAWC,IAAEC,OACbC,KAAK,SACLC,MAAM,MACNC,OAAQ,GACRC,MAAO,KANX,Q,iBCIWC,EARM,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACtB,OACE,8BACE,oBAAIR,UAAWC,IAAEM,aAAjB,SAAgCC,O,iBCFhCC,E,4MACJC,gBAAkB,SAAAC,GAChB,EAAKC,MAAMC,QAAQF,I,4CAGrB,WAAU,IAAD,OACP,OAAOG,KAAKF,MAAMG,YAAYC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAcP,EAArB,EAAqBA,cAArB,OAChC,oBAEEX,UAAWC,IAAEQ,iBACbI,QAAS,kBAAM,EAAKH,gBAAgBC,IAHtC,SAKE,qBAAKX,UAAWC,IAAEkB,MAAOC,IAAKF,EAAcG,IAAI,MAJ3CJ,U,GARkBK,aAkBhBb,I,iBCjBTc,EAAYC,SAASC,cAAc,eAEnCC,E,4MASJC,mBAAqB,SAAAC,GACJ,WAAXA,EAAEC,MACJ,EAAKjB,MAAMkB,gB,EAIfC,eAAiB,SAAAH,GACXA,EAAEI,gBAAkBJ,EAAEK,QACxB,EAAKrB,MAAMkB,gB,uDAhBf,WACEI,OAAOC,iBAAiB,UAAWrB,KAAKa,sB,kCAG1C,WACEO,OAAOE,oBAAoB,UAAWtB,KAAKa,sB,oBAe7C,WACE,OAAOU,uBACL,qBAAKrC,UAAWC,IAAEqC,QAASzB,QAASC,KAAKiB,eAAzC,SACE,qBAAK/B,UAAWC,IAAEsC,MAAlB,SACE,qBAAKnB,IAAKN,KAAKF,MAAM4B,SAAUnB,IAAI,SAGvCE,O,GA5BcD,aAiCLI,I,iBCpCTe,E,4JACJ,WACE,OACE,wBAAQzC,UAAWC,IAAEwC,OAAQtC,KAAK,SAASU,QAASC,KAAKF,MAAMC,QAA/D,SACGC,KAAKF,MAAM8B,W,GAJCpB,aAUNmB,ICFTE,EAAU,qCAEVC,E,4MACJC,MAAQ,CACNC,MAAO,GACPC,YAAa,GACbC,KAAM,EACNC,OAAQ,GACRC,SAAS,EACTC,MAAO,KACPC,WAAY,GACZC,WAAW,G,EAsCbC,gBAAkB,SAAA1B,GAChB,EAAK2B,SAAS,CAAET,MAAOlB,EAAEI,cAAcc,MAAMU,iB,EAG/CC,gBAAkB,SAAA7B,GAChBA,EAAE8B,iBAC8B,KAA5B,EAAKb,MAAMC,MAAMa,SAGjB,EAAKd,MAAMC,MAAMa,SAAW,EAAKd,MAAME,aACzC,EAAKQ,SAAS,CAAEP,KAAM,EAAGC,OAAQ,KAEnC,EAAKM,SAAS,CAAER,YAAa,EAAKF,MAAMC,QACxC,EAAKS,SAAS,CACZL,SAAS,IAGXU,IACGC,IADH,qCAEkC,EAAKhB,MAAMC,MAF7C,iBAE2D,EAAKD,MAAMG,KAFtE,gBAEkFL,EAFlF,yDAIGmB,MAAK,SAAAC,GACJC,QAAQC,IAAIF,GACY,MAApBA,EAASG,SACX,EAAKX,SAAS,CAAEN,OAAQc,EAASI,KAAKC,OACL,IAA7B,EAAKvB,MAAMI,OAAOoB,QACpBC,IAAMnB,MAAM,iNAGhB,EAAKI,SAAS,CACZL,SAAS,IAEa,MAApBa,EAASG,QACX,EAAKX,SAAS,CAAEJ,MAAO,6MAG1BoB,OAAM,SAAApB,GAAK,OAAIa,QAAQb,MAAMA,MAEhC,EAAKvC,MAAM4D,SAAS,EAAK3B,OACzB,EAAK4B,U,EAGPC,gBAAkB,SAAA9C,GAChB,EAAK2B,UAAS,SAAAoB,GAAS,MAAK,CAAE3B,KAAM2B,EAAU3B,KAAO,O,EAGvD4B,YAAc,SAAAhD,GACZ,EAAK2B,SAAS,CAAEH,WAAYxB,IAC5B,EAAKiD,e,EAGPA,YAAc,WACZ,EAAKtB,UAAS,SAAAV,GAAK,MAAK,CAAEQ,WAAYR,EAAMQ,e,wDAvF9C,SAAmByB,EAAWH,GAAY,IAAD,OACnCA,EAAU3B,OAASlC,KAAK+B,MAAMG,OAC5B2B,EAAU7B,QAAUhC,KAAK+B,MAAMC,OACjChC,KAAKyC,SAAS,CACZL,SAAS,IAGbU,IACGC,IADH,qCAEkC/C,KAAK+B,MAAME,YAF7C,iBAEiEjC,KAAK+B,MAAMG,KAF5E,gBAEwFL,EAFxF,yDAIGmB,MAAK,SAAAC,GACoB,MAApBA,EAASG,SACX,EAAKX,UAAS,SAAAoB,GAAS,MAAK,CAC1B1B,OAAO,GAAD,mBAAM0B,EAAU1B,QAAhB,YAA2Bc,EAASI,KAAKC,WAEjD,EAAKb,SAAS,CAAEL,SAAS,IACrB,EAAKL,MAAMI,OAAOoB,OAAS,IAC7BnC,OAAO6C,SAAS,CACdC,IAAKxD,SAASyD,gBAAgBC,aAC9BC,SAAU,YAIQ,MAApBpB,EAASG,QACX,EAAKX,SAAS,CAAE6B,KAAM,6MAGzBb,OAAM,SAAApB,GAAK,OAAIa,QAAQb,MAAMA,S,mBAIpC,WACErC,KAAKyC,SAAS,CAAET,MAAO,O,oBAyDzB,WACE,OACE,oCACE,yBAAQ9C,UAAWC,IAAE2C,UAArB,UACE,uBAAM5C,UAAWC,IAAEoF,WAAYb,SAAU1D,KAAK2C,gBAA9C,UACE,wBAAQtD,KAAK,SAASH,UAAWC,IAAEqF,iBAAnC,SACE,sBAAMtF,UAAWC,IAAEsF,YAAnB,sBAGF,uBACEC,SAAU1E,KAAKwC,gBACftD,UAAWC,IAAEwF,MACbtF,KAAK,OACLuF,aAAa,MACbC,WAAS,EACTC,YAAY,gCAGf9E,KAAK+B,MAAMK,SAAW,cAAC2C,EAAD,OAEK,IAA7B/E,KAAK+B,MAAMI,OAAOoB,QACjB,cAAC,EAAD,UACE,cAAC,EAAD,CACEtD,YAAaD,KAAK+B,MAAMI,OACxBpC,QAASC,KAAK8D,gBAIU,IAA7B9D,KAAK+B,MAAMI,OAAOoB,QACjB,cAAC,EAAD,CAAQ3B,KAAK,YAAY7B,QAASC,KAAK4D,kBAExC5D,KAAK+B,MAAMQ,WACV,cAAC,EAAD,CACEvB,aAAchB,KAAK+D,YACnBrC,SAAU1B,KAAK+B,MAAMO,oB,GAxIT9B,aAgJTsB,ICtJTkD,G,wNACJjD,MAAQ,CACNkD,UAAW,I,EAGbtC,gBAAkB,SAAAU,GAChB,EAAKZ,SAAS,CAAEwC,UAAW5B,EAAKrB,S,4CAElC,WACE,OACE,gCACE,cAAC,EAAD,CAAW0B,SAAU1D,KAAK2C,kBAD5B,IAEE,cAAC,EAAD,CAAcsC,UAAWjF,KAAK+B,MAAMkD,YACpC,cAAC,IAAD,CAAgBC,UAAW,IAAMC,SAAS,sB,GAbhC3E,cAmBHwE,ICrBfI,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5E,SAAS6E,eAAe,U,kBCR1BxG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,YAAc,+BAA+B,MAAQ,4B","file":"static/js/main.33ae3815.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1_ayz\",\"image\":\"ImageGalleryItem_image__3dach\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__30Oms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__26Dce\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3DqDy\"};","import Loader from 'react-loader-spinner';\r\nimport s from './loader.module.css';\r\n\r\nconst Loaderhearts = () => {\r\n  //other logic\r\n  return (\r\n    <div>\r\n      <Loader\r\n        className={s.loader}\r\n        type=\"Hearts\"\r\n        color=\"red\"\r\n        height={80}\r\n        width={80}\r\n      />\r\n      ;\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loaderhearts;\r\n","import s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return (\r\n    <div>\r\n      <ul className={s.ImageGallery}>{children}</ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from './ImageGalleryItem.module.css';\r\nimport { Component } from 'react';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  LargeImageModal = largeImageURL => {\r\n    this.props.onClick(largeImageURL);\r\n  };\r\n\r\n  render() {\r\n    return this.props.imagesArray.map(({ id, webformatURL, largeImageURL }) => (\r\n      <li\r\n        key={id}\r\n        className={s.ImageGalleryItem}\r\n        onClick={() => this.LargeImageModal(largeImageURL)}\r\n      >\r\n        <img className={s.image} src={webformatURL} alt=\"\" />\r\n      </li>\r\n    ));\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import s from './Modal.css';\r\nimport { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeModalOnEscape);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeModalOnEscape);\r\n  }\r\n\r\n  closeModalOnEscape = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onModalClose();\r\n    }\r\n  };\r\n\r\n  onOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onModalClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.onOverlayClick}>\r\n        <div className={s.modal}>\r\n          <img src={this.props.modalImg} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import s from './Button.module.css';\r\nimport { Component } from 'react';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <button className={s.Button} type=\"button\" onClick={this.props.onClick}>\r\n        {this.props.text}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport Loaderhearts from '../Loader/Loader';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\nimport Button from '../Button/Button';\r\n\r\nconst API_Key = '23544222-01ada114d06f3f80b4f13a1dd';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n    searchValue: '',\r\n    page: 1,\r\n    images: [],\r\n    loading: false,\r\n    error: null,\r\n    largeImage: '',\r\n    showModal: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.page !== this.state.page) {\r\n      if (prevState.value !== this.state.value) {\r\n        this.setState({\r\n          loading: true,\r\n        });\r\n      }\r\n      axios\r\n        .get(\r\n          `https://pixabay.com/api/?q=${this.state.searchValue}&page=${this.state.page}&key=${API_Key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n        )\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            this.setState(prevState => ({\r\n              images: [...prevState.images, ...response.data.hits],\r\n            }));\r\n            this.setState({ loading: false });\r\n            if (this.state.images.length > 11) {\r\n              window.scrollTo({\r\n                top: document.documentElement.scrollHeight,\r\n                behavior: 'smooth',\r\n              });\r\n            }\r\n          }\r\n          if (response.status === 400) {\r\n            this.setState({ eror: 'картинки по вашему зыпросу не найдены' });\r\n          }\r\n        })\r\n        .catch(error => console.error(error));\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.setState({ value: '' });\r\n  }\r\n  onChangeHandler = e => {\r\n    this.setState({ value: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  onSubmitHandler = e => {\r\n    e.preventDefault();\r\n    if (this.state.value.trim() === '') {\r\n      return;\r\n    }\r\n    if (this.state.value.trim() === this.state.searchValue) {\r\n      this.setState({ page: 1, images: [] });\r\n    }\r\n    this.setState({ searchValue: this.state.value });\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    axios\r\n      .get(\r\n        `https://pixabay.com/api/?q=${this.state.value}&page=${this.state.page}&key=${API_Key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n      )\r\n      .then(response => {\r\n        console.log(response);\r\n        if (response.status === 200) {\r\n          this.setState({ images: response.data.hits });\r\n          if (this.state.images.length === 0) {\r\n            toast.error('По такому запросу картинки не найденны!');\r\n          }\r\n        }\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n        if (response.status === 400) {\r\n          this.setState({ error: 'картинки по вашему зыпросу не найдены' });\r\n        }\r\n      })\r\n      .catch(error => console.error(error));\r\n\r\n    this.props.onSubmit(this.state);\r\n    this.reset();\r\n  };\r\n\r\n  onLoadMoreClick = e => {\r\n    this.setState(prevState => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  onItemClick = e => {\r\n    this.setState({ largeImage: e });\r\n    this.toggleModal();\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(state => ({ showModal: !state.showModal }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.onSubmitHandler}>\r\n            <button type=\"submit\" className={s.SearchFormButton}>\r\n              <span className={s.buttonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              onChange={this.onChangeHandler}\r\n              className={s.input}\r\n              type=\"text\"\r\n              autocomplete=\"off\"\r\n              autofocus\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n          {this.state.loading && <Loaderhearts />}\r\n        </header>\r\n        {this.state.images.length !== 0 && (\r\n          <ImageGallery>\r\n            <ImageGalleryItem\r\n              imagesArray={this.state.images}\r\n              onClick={this.onItemClick}\r\n            />\r\n          </ImageGallery>\r\n        )}\r\n        {this.state.images.length !== 0 && (\r\n          <Button text=\"Load more\" onClick={this.onLoadMoreClick} />\r\n        )}\r\n        {this.state.showModal && (\r\n          <Modal\r\n            onModalClose={this.toggleModal}\r\n            modalImg={this.state.largeImage}\r\n          />\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n  };\n\n  onSubmitHandler = data => {\n    this.setState({ imageName: data.value });\n  };\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.onSubmitHandler} />;\n        <ImageGallery imageName={this.state.imageName} />\n        <ToastContainer autoClose={3000} position=\"top-center\" />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__umOvc\",\"SearchForm\":\"Searchbar_SearchForm__3TM2p\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3cVCE\",\"buttonLabel\":\"Searchbar_buttonLabel__2KxkW\",\"input\":\"Searchbar_input__32AUL\"};"],"sourceRoot":""}